Ext.define("Ext.ux.ItemSelectorSm",{extend:"Ext.ux.form.ItemSelector",alias:["widget.itemselectorsmfield","widget.itemselectorsm"],alternateClassName:["Ext.ux.ItemSelectorSm"],createList:function(b){var a=this;return Ext.create("Ext.ux.form.MultiSelectSI",{submitValue:false,flex:1,title:b,store:{model:a.store.model,data:[]},displayField:a.displayField,disabled:a.disabled,listeners:{boundList:{scope:a,itemdblclick:a.onItemDblClick,drop:a.syncValue}}});
},onTopBtnClick:function(){var c=this.toField.boundList,a=c.getStore(),b=this.getSelections(c);a.suspendEvents();a.remove(b,true);a.insert(0,b);a.resumeEvents();c.refresh();this.syncValue();c.getSelectionModel().select(b);},onBottomBtnClick:function(){var c=this.toField.boundList,a=c.getStore(),b=this.getSelections(c);
a.suspendEvents();a.remove(b,true);a.add(b);a.resumeEvents();c.refresh();this.syncValue();c.getSelectionModel().select(b);},onUpBtnClick:function(){var f=this.toField.boundList,b=f.getStore(),e=this.getSelections(f),g,d=0,a=e.length,c=0;b.suspendEvents();for(;d<a;++d,c++){g=e[d];c=Math.max(c,b.indexOf(g)-1);
b.remove(g,true);b.insert(c,g);}b.resumeEvents();f.refresh();this.syncValue();f.getSelectionModel().select(e);},onDownBtnClick:function(){var e=this.toField.boundList,a=e.getStore(),d=this.getSelections(e),f,c=d.length-1,b=a.getCount()-1;a.suspendEvents();for(;c>-1;--c,b--){f=d[c];b=Math.min(b,a.indexOf(f)+1);
a.remove(f,true);a.insert(b,f);}a.resumeEvents();e.refresh();this.syncValue();e.getSelectionModel().select(d);},onAddBtnClick:function(){var q=Ext.getCmp("itemselectTests");var e=Ext.getCmp("itemselectextagent");if(q!=null&&q!="undefined"){var b=publicJSON["usrBasedTests"];var p=b.toString();var a=p.split(",");
var m=this,d=m.getSelections(m.fromField.boundList);var k=new Array();for(var f=0;f<d.length;f++){var g=d[f];var o=d[f].get("valueField");var l=d[f].get("displayField");var n="";for(var c=0;c<a.length;c++){if(a[c]==o){n=o;Ext.Msg.alert(pageTitle,publicJSON["screenLabels"]["NamedUserAlert"]+publicJSON["screenLabels"]["NamedUserAlertName"]+" "+l);
}else{k[k.length]=g;}}}if(k!=null&&k.length>0){var h=k;m.moveRec(true,h);m.toField.boundList.getSelectionModel().select(h);}}else{if(e!=null&&e!="undefined"){var m=this,d=m.getSelections(m.fromField.boundList);if(d.length==0){Ext.Msg.alert(assignExtPageTitle,publicJSON["screenLabels"]["admin.external.No external agent hosts selected"]);
}else{var m=this,d=m.getSelections(m.fromField.boundList);m.moveRec(true,d);m.toField.boundList.getSelectionModel().select(d);}}else{var m=this,d=m.getSelections(m.fromField.boundList);m.moveRec(true,d);m.toField.boundList.getSelectionModel().select(d);}}},callMethod:function(){},onRemoveBtnClick:function(){var a=Ext.getCmp("itemselectextagent");
var c=Ext.getCmp("itemselectremoteagent");if((a!=null&&a!="undefined")||(c!=null&&c!="undefined")){var d=this,b=d.getSelections(d.toField.boundList);if(b.length==0){if(a!=null&&a!="undefined"){Ext.Msg.alert(assignExtPageTitle,publicJSON["screenLabels"]["admin.external.No managed hosts selected"]);}else{Ext.Msg.alert(assignRmtPageTitle,publicJSON["screenLabels"]["admin.remote.No managed hosts selected"]);
}}else{if(c!=null&&c!="undefined"){Ext.getCmp("UpdateBTN").enable();}var d=this,b=d.getSelections(d.toField.boundList);d.moveRec(false,b);d.fromField.boundList.getSelectionModel().select(b);}}else{var d=this,b=d.getSelections(d.toField.boundList);d.moveRec(false,b);d.fromField.boundList.getSelectionModel().select(b);
}},moveRec:function(f,e){var c=this,g=c.fromField,a=c.toField,b=f?g.store:a.store,d=f?a.store:g.store;b.suspendEvents();d.suspendEvents();b.remove(e);d.add(e);b.resumeEvents();d.resumeEvents();g.boundList.refresh();a.boundList.refresh();c.syncValue();},onItemDblClick:function(h,b){var k=Ext.getCmp("itemselectTests");
var a=Ext.getCmp("itemselectremoteagent");if(a!=null&&a!="undefined"){var g=this,d=g.getSelections(g.toField.boundList);if(d.length>0){Ext.getCmp("UpdateBTN").enable();}}if(k!=null&&k!="undefined"){var c=publicJSON["usrBasedTests"];var g=this,d=g.getSelections(g.fromField.boundList);if(d.length>0){for(var e=0;
e<d.length;e++){var j=d[e].get("valueField");var f=d[e].get("displayField");if(c==j){Ext.Msg.alert(pageTitle,publicJSON["screenLabels"]["NamedUserAlert"]+publicJSON["screenLabels"]["NamedUserAlertName"]+" "+f);return;}else{this.moveRec(h===this.fromField.boundList,b);}}}else{this.moveRec(h===this.fromField.boundList,b);
}}else{this.moveRec(h===this.fromField.boundList,b);}},setValue:function(f){var d=this,g=d.fromField,a=d.toField,b=g.store,e=a.store,c;if(!d.fromStorePopulated){d.fromField.store.on({load:Ext.Function.bind(d.setValue,d,[f]),single:true});return;}f=d.setupValue(f);d.mixins.field.setValue.call(d,f);c=d.getRecordsForValue(f);
b.suspendEvents();e.suspendEvents();b.removeAll();e.removeAll();d.populateFromStore(d.store);Ext.Array.forEach(c,function(h){if(b.indexOf(h)>-1){b.remove(h);}e.add(h);});b.resumeEvents();e.resumeEvents();Ext.suspendLayouts();g.boundList.refresh();a.boundList.refresh();Ext.resumeLayouts(true);}});