Ext.define("Ext.ux.OptGroup.BoundList",{extend:"Ext.view.View",alias:"widget.optgroupboundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var g=this,f=g.baseCls,c=g.itemCls;
g.selectedItemCls=f+"-selected";g.overItemCls=f+"-item-over";g.itemSelector="."+c;if(g.floating){g.addCls(f+"-floating");}if(!g.tpl){if(g.groupField!="undefined"&&Ext.isArray(g.groupField)){var h=["<ul>",'<tpl for=".">'];var k=1;k=g.groupField.length;var a=false;for(var e=0;e<g.groupField.length;e++){var b="";
for(var d=e-1;d>=0;d--){b+=" || parent[xindex - 2]['"+g.groupField[d]+"'] != values['"+g.groupField[d]+"']";}if(a==false){a=true;h.push('<tpl if="xindex == 1">','<li class="x-combo-list-group" style="padding-left:'+(e==0?"3":(e*16))+'px;padding-top:2px"><b>{[values["'+g.groupField[e]+'"]]}</b></li>',"</tpl>");
h.push("<tpl if=\"xindex != 1 && parent[xindex - 2]['"+g.groupField[e]+"'] != values['"+g.groupField[e]+"']"+b+'">','<li class="x-combo-list-group" style="padding-left:'+(e==0?"3":(e*16))+'px;padding-top:8px"><b>{[values["'+g.groupField[e]+'"]]}</b></li>',"</tpl>");}else{h.push("<tpl if=\"xindex == 1 || parent[xindex - 2]['"+g.groupField[e]+"'] != values['"+g.groupField[e]+"']"+b+'">','<li class="x-combo-list-group" style="padding-left:'+(e==0?"3":(e*16))+'px;"><b>{[values["'+g.groupField[e]+'"]]}</b></li>',"</tpl>");
}}h.push('<li role="option" class="'+c+'" style="padding-left:'+(k*16)+'px;">'+g.getInnerTpl(g.displayField)+"</li>","</tpl>","</ul>");g.tpl=Ext.create("Ext.XTemplate",h);}else{g.tpl=new Ext.XTemplate('<ul><tpl for=".">','<tpl if="xindex == 1">','<li class="x-combo-list-group" style="padding-top:2px;padding-left:3px;"><b>{[this.getGroupLabel(values)]}</b></li>',"</tpl>",'<tpl if="xindex != 1 && this.getGroupLabel(parent[xindex - 2]) != this.getGroupLabel(values)">','<li class="x-combo-list-group" style="padding-top:0px;padding-left:3px;"><b>{[this.getGroupLabel(values)]}</b></li>',"</tpl>",'<li role="option" class="'+c+'" style="padding-left:6px;">'+g.getInnerTpl(g.displayField)+"</li>","</tpl></ul>",{getGroupLabel:function(i){return i.groupField;
}});}}else{if(Ext.isString(g.tpl)){g.tpl=new Ext.XTemplate(g.tpl);}}if(g.pageSize){g.pagingToolbar=g.createPagingToolbar();}g.callParent();},beforeRender:function(){var a=this;a.callParent(arguments);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu");}},getBubbleTarget:function(){return this.pickerField;
},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[];},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.store,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()});},finishRenderChildren:function(){var a=this.pagingToolbar;
this.callParent(arguments);if(a){a.finishRender();}},refresh:function(){var b=this,a=b.pagingToolbar;b.callParent();if(b.rendered&&a&&a.rendered&&!b.preserveScrollOnRefresh){b.el.appendChild(a.el);}},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);if(c){c.bindStore(this.store,b);
}},getTargetEl:function(){return this.listEl||this.el;},getInnerTpl:function(a){return"{"+a+"}";},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent();}});